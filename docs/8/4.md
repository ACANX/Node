实际上 Windows 自家的 RDP 已经满足大多数用户使用了，我们还可以继续优化优化，正常敲个代码啥的都绰绰有余了。

## 解锁帧数

Windows 的 RDP 远程桌面默认的 FPS 限制为 30 FPS，这个帧数其实敲代码确实也完全足够了：

![](https://image.3001.net/images/20230122/16743546605462.jpg)   



但是高刷显示器用户可能难以接受，好在我们可以通过编辑注册表解锁这个帧数的限制。

首先打开注册表编辑器，然后跳转到：

```ini
HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal Server\WinStations
```

选择「新建」，然后选择「DWORD（32 位）值」：

![](https://image.3001.net/images/20230122/16743544543842.png) 

 名称为：**DWMFRAMEINTERVAL**，基数选择**十进制**，数值数据填写：**15**

![](https://image.3001.net/images/20230122/16743548739711.png)  

??? note "国光小课堂：RDP 其他帧数对应表"

	|十进制| FPS 帧数|
	|-|-|
	|15|60|
	|10|40|
	|5|20|
	|1|4|

一顿操作后 RDP 的帧数已经提高了很多：

![](https://image.3001.net/images/20230122/16743561403984.jpg) 

关于 RDP 优化教程中，除了这个修改注册表开启 60FPS 是全球统一的，后面的优化教程国光测试了一些感觉就是以讹传讹，国光只用数据来说话，毕竟实践是检验真理的唯一标准。   

## RDP 细节

1. macOS 开虚拟机，然后使用 RDP 连接流畅度不如物理机的 Windows 的连接效果
2. TestUFO 测试帧数并不是 RDP 实际显示的帧数，建议以 RDP 自带的为准
3. Windows 11 开始， RDP 点击信号图标，然后展开详细信息可以看到连接的具体参数
4. RDP 优化设计到解码显卡加速的教程，这些优化方法的效果建议自己测试，以实际测试为准

## 显卡加速

建议有独显的机器配置显卡加速，编辑「**组策略**」依次找到 「计算机配置」 -> 「管理模板」 -> 「Windows 组件」 -> 「远程桌面服务」 -> 「远程桌面会话主机」 -> 「远程会话环境」里面涉及到了几个部分，下面国光来一一测试这部分内容。

| 操作方法 | 传输协议 | 往返时间 |  平均带宽  | FPS 波动范围 | 平均 FPS |
| :------- | :------: | :------: | :--------: | :----------: | :------: |
| 硬件图形 |   UDP    |   16ms   | 81.82 Mbps |  55~62 FPS   |  59 FPS  |
|          |          |          |            |              |          |
|          |          |          |            |              |          |
|          |          |          |            |              |          |
|          |          |          |            |              |          |



